<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stock Exchange </title>
</head>
<body>


<style>
    table, th, td {
        border: 1px solid black;
        font-size: xx-large;
    }
</style>
<div id="table">
    <script>
        let updateInterval = JSON.parse('{{iteration}}') / 5;
        let beerList = JSON.parse('{{ beers | tojson }}'); //can only take strings
        let colors = JSON.parse('{{colorSet | tojson}}');
        let a = setInterval("updateData();", updateInterval * 1000);
        printTable();

        function printTable() {
            console.log(beerList)
            let table = "<table style='width:100%'>";
            table += "<tr> <th>Getr√§nk</th> <th>Preis</th> <th>Trend</th> <th>Min</th> <th>Max</th> </tr>"; //columns
            for (let drink in beerList) {
                console.log()
                table += "<tr>";
                table += "<td>" + beerList[drink]["name"] + "</td>"; // rows
                table += "<td>" + beerList[drink]["price"] + "</td>"; // rows
                table += "<td>" + beerList[drink]["price_diff"] + "</td>"; // rows
                table += "<td>" + beerList[drink]["min"] + "</td>"; // rows
                table += "<td>" + beerList[drink]["max"] + "</td>"; // rows
                table += "</tr>";
            }
            table += "</table>"
            document.getElementById("table").innerHTML = table;
        }

        function updateData() {
            $.getJSON("http://127.0.0.1:8000/data/table", function (data) {
                beerList = data;
                printTable();
            });
        }
    </script>
</div>
</body>
<script src="{{ url_for('static', filename='js/canvas.js/canvasjs.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery-3.4.1.min.js') }}"></script>
</html>